<div class="cc-page-widget-profile-section-emergency-phone-fields">
  <div data-ng-if="(!phone && emergencyPhone.isAdding) || phone.availablePhoneTypes.length > 0">
    <label for="cc_page_widget_profile_emergency_phone_type">
      <strong>Phone Type</strong> <span class="cc-text-light">(Required)</span>
    </label>
  </div>

  <div class="cc-page-widget-profile-section-emergency-phone-type-select">
    <div class="cc-page-widget-profile-section-emergency-phone-type-editing" data-ng-if="phone || !emergencyPhone.isAdding">
      <span data-ng-bind="phone.phoneTypeDescr" data-ng-if="phone.availablePhoneTypes.length === 1"></span>
      <div class="cc-select" data-ng-if="phone.availablePhoneTypes.length > 1">
        <select id="cc_page_widget_profile_emergency_phone_type" data-ng-model="phone.phoneType" data-ng-options="type.fieldvalue as type.xlatlongname for type in phone.availablePhoneTypes">
          <option value="" disabled selected>Choose&hellip;</option>
        </select>
      </div>
    </div>
    <div class="cc-page-widget-profile-section-emergency-phone-type-adding" data-ng-if="!phone && emergencyPhone.isAdding">
      <span data-ng-bind="emergencyPhone.currentObject.data.phoneTypeDescr" data-ng-if="emergencyPhone.currentObject.data.availablePhoneTypes.length === 1"></span>
      <div class="cc-select" data-ng-if="emergencyPhone.currentObject.data.availablePhoneTypes.length > 1">
        <select id="cc_page_widget_profile_emergency_phone_type" required aria-required="true" data-ng-model="emergencyPhone.currentObject.data.phoneType" data-ng-options="type.fieldvalue as type.xlatlongname for type in emergencyPhone.currentObject.data.availablePhoneTypes">
          <option value="" disabled selected>Choose&hellip;</option>
        </select>
      </div>
    </div>
  </div>

  <div>
    <label for="cc_page_widget_profile_emergency_phone">
      <strong>Phone Number</strong> <span class="cc-text-light">(Required)</span>
    </label>
  </div>
  <div>
    <div data-ng-if="!phone && emergencyPhone.isAdding">
      <input
        aria-required="true"
        data-cc-tel-phone-input-directive
        data-ng-model="emergencyPhone.currentObject.data.phone"
        name="cc_page_widget_profile_emergency_phone_add"
        required
        type="text"
      >
      <p class="cc-page-widget-profile-section-input-error-message cc-text-red"
        data-ng-show="cc_page_widget_profile_emergency_contact.$error.invalidPhoneNumber">
        <i class="cc-icon-red fa fa-exclamation-circle"></i>
        The phone number
        <span
          data-ng-bind-template="' {{cc_page_widget_profile_emergency_contact.cc_page_widget_profile_emergency_phone_add.$viewValue}}' "
          data-ng-if="cc_page_widget_profile_emergency_contact.cc_page_widget_profile_emergency_phone_add.$viewValue"
        ></span>
        is incomplete or formatted incorrectly.
      </p>
    </div>
    <div data-ng-if="phone.isModifying">
      <input
        aria-required="true"
        data-cc-tel-phone-input-directive
        data-ng-model="phone.phone"
        name="cc_page_widget_profile_emergency_phone_edit"
        type="text"
        required="required"
      >
      <p class="cc-page-widget-profile-section-input-error-message cc-text-red"
        data-ng-show="cc_page_widget_profile_emergency_contact.$error.invalidPhoneNumber">
        <i class="cc-icon-red fa fa-exclamation-circle"></i>
        The phone number
        <span
          data-ng-bind-template="' {{cc_page_widget_profile_emergency_contact.cc_page_widget_profile_emergency_phone_edit.$viewValue}}'"
          data-ng-if="cc_page_widget_profile_emergency_contact.cc_page_widget_profile_emergency_phone_edit.$viewValue"
        ></span>
        is incomplete or formatted incorrectly.
      </p>
    </div>
    <div data-ng-if="phone && !phone.isModifying">
      <input
        aria-required="true"
        data-cc-tel-phone-input-directive
        data-ng-disabled="emergencyPhone.isAdding || emergencyPhone.isModifying"
        data-ng-model="phone.phone"
        name="cc_page_widget_profile_emergency_phone"
        type="text"
        required
      >
      <p class="cc-page-widget-profile-section-input-error-message cc-text-red"
        data-ng-show="!emergencyPhone.isAdding && !emergencyPhone.isModifying && cc_page_widget_profile_emergency_contact.$error.invalidPhoneNumber">
        <i class="cc-icon-red fa fa-exclamation-circle"></i>
        The phone number
        <span
          data-ng-bind-template="'{{cc_page_widget_profile_emergency_contact.cc_page_widget_profile_emergency_phone.$viewValue}}'"
          data-ng-if="cc_page_widget_profile_emergency_contact.cc_page_widget_profile_emergency_phone.$viewValue"
        ></span>
        is incomplete or formatted incorrectly.
      </p>
    </div>
  </div>

  <div>
    <label for="cc_page_widget_profile_emergency_phone_extension">
      <strong>Phone Extension</strong>
    </label>
  </div>
  <div>
    <input type="text" id="cc_page_widget_profile_emergency_phone_extension"
    data-ng-model="phone.extension"
    data-ng-if="phone || !emergencyPhone.isAdding">
    <input type="text" id="cc_page_widget_profile_emergency_phone_extension"
    data-ng-model="emergencyPhone.currentObject.data.extension"
    data-ng-if="!phone && emergencyPhone.isAdding">
  </div>
</div>
